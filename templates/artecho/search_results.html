{% extends 'artecho/base-navbar.html' %}
{% load static %}

{% block title_block %}
    <title>Profile</title>
    <link rel="stylesheet" href="{% static 'css/figure_display.css' %}">
{% endblock %}

{% block body_block %}
    <div class="upper-body">
        <p> Search results for "{{ request.GET.q }}" </p>
    </div>


    <div class="lower-body">
        <h2>Users:</h2>
        {% if users %}
            <ul>
                {% for user in users %}
                <li><a href="{% url 'artecho:profile' user.slug %}">{{ user.username }}</a></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No results found for "{{ query }}"</p>
        {% endif %}

        <h2>Images by Category:</h2>
        {% if images %}
            {% regroup images by category.name as category_list %}
            {% for category in category_list %}
                <h4>{{ category.grouper }}</h4>
                <ul>
                    {% for image in category.list %}
                        <li><img src="{% static 'images/' %}{{ image.file }}" alt="{{ image.name }}"></li>
                    {% endfor %}
                </ul>
            {% endfor %}
        {% else %}
            <p>No image results found for "{{ query }}".</p>
        {% endif %}

        <h2>Images by Title:</h2>
        {% if image_search_results %}
            <ul>
                {% for image in image_search_results %}
                    <li><img src="{% static 'images/' %}{{ image.file }}" alt="{{ image.name }}"></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No image results found for "{{ query }}".</p>
        {% endif %}
    </div>
{% endblock %}